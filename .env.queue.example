# BullMQ Queue Configuration Example
# Copy this file to .env.local and update with your values

# Redis Configuration
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Queue Configuration
QUEUE_CONCURRENCY=5

# Worker Configuration
ENABLE_SCRAPER_WORKER=true
ENABLE_INDEXER_WORKER=true
ENABLE_CACHE_WARMER_WORKER=true
ENABLE_CLEANUP_WORKER=true

# Scheduling (cron patterns)
# Daily scraping at 2 AM
SCRAPER_CRON=0 2 * * *

# Cache warming every 6 hours
CACHE_WARMER_CRON=0 */6 * * *

# Refresh materialized views daily at 3 AM
MATERIALIZED_VIEW_CRON=0 3 * * *

# Cleanup old data weekly on Sunday at 4 AM
CLEANUP_CRON=0 4 * * 0

# Elasticsearch Configuration
ELASTICSEARCH_NODE=http://localhost:9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=

# Database Configuration
DATABASE_URL=postgresql://user:password@localhost:5432/nw_london_ledger

# Logging
LOG_LEVEL=info

# Performance Tuning
# Maximum number of concurrent jobs per worker
SCRAPER_CONCURRENCY=2
INDEXER_CONCURRENCY=10
CACHE_WARMER_CONCURRENCY=5
CLEANUP_CONCURRENCY=1

# Job Retention
# How long to keep completed jobs (in seconds)
JOB_RETENTION_COMPLETED=86400  # 24 hours
JOB_RETENTION_FAILED=604800     # 7 days